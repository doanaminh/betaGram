<%- include('partials/header') -%>

<div class="container">
  <!-- Navbar -->
  <div class="navbar bg-base-100">
    <div class="flex-1">
      <a href="/feed" class="btn btn-ghost normal-case text-xl">betaGram</a>
    </div>
    <div class="flex-none gap-2">
      <!-- Searchbar -->
      <!-- <div class="form-control">
        <input type="text" placeholder="Search" class="input input-bordered" />
      </div> -->
      <div>
        <label for="my-modal-3" class="btn modal-button btn-ghost text-3xl text-white">+</label>
      </div>
      <div class="dropdown dropdown-end">
        <label tabindex="0" class="btn btn-square btn-ghost">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
        </label>
        <ul tabindex="0" class="mt-3 p-2 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-52">
          <li><a href="/profile">Profile</a></li>
          <li><a href="/logout">Logout</a></li>
        </ul>
      </div>
    </div>
  </div>
  <!-- END Navbar -->
  <div class="hero min-h-screen bg-base-300">
    <ul class="hero-content flex-wrap lg:flex-row">
    <% for(i = 0; i < posts.length; i++) {%>
      <div class="artboard phone-1">
        <li>
          <a href="/post/<%= posts[i]._id%>">
            <figure>
              <video id="doc-player" loop muted class="min-h-fit max-h-fit cld-video-player cld-fluid rounded-xl shadow-2xl" src="<%= posts[i].media %>"></video>
            </figure>
            <!-- <div class="card-body bg-base-200 shadow-xl">
              <div class="card-actions justify-end">
                <div class="badge badge-outline">Fashion</div> 
                <div class="badge badge-outline">Products</div>
              </div>
            </div> -->
          </a>
        </li>
      </div>
    <% } %>
    </ul>
  </div>
</div>  

<!-- Code for add post button content to populate -->
<input type="checkbox" id="my-modal-3" class="modal-toggle" />
<div class="modal">
  <div class="modal-box relative">
    <label for="my-modal-3" class="btn btn-sm btn-circle absolute right-2 top-2">âœ•</label>
    <h2 class="text-3xl">Post Beta</h2>
    <form action="/post/createPost" enctype="multipart/form-data" method="POST">
      <div class="mb-3">
        <input type="file" class="form-control select select-primary w-full max-w-xs" id="mediaUpload" name="file">
      </div>
      <div class="mb-3">
        <textarea class="form-control textarea textarea-primary" id="caption" name="caption"></textarea>
      </div>
      <button type="submit" class="btn btn-primary" value="Upload">Spray</button>
    </form>
  </div>
</div>
<%- include('partials/footer') -%>